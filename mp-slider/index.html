<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>mp-slider</title>
  <script src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
  <style type="text/css">
  .mp-slider ul, li, img {
    padding: 0px;
    margin: 0px;
  }

  .mp-slider {
    position: relative;
    width: 520px;
    height: 280px;
    overflow: hidden;
  }
  .mp-slider-imgs {
    position: absolute;
    width: 3060px;
    left: -520px;
    overflow: hidden;
/*    -webkit-transition: 0.5s;
    transition: 0.5s;
*/  
  }
  .mp-slider-img {
      width: 520px;
      height: 280px;
      float: left;
  }

  .mp-slider-prev, .mp-slider-next {
    position: relative;
    display: block;
    width: 40px;
    height: 40px;
    cursor: pointer;
    color: #fff;
    background-color: rgba(0,0,0,.3);
    filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr='#4C000000', EndColorStr='#4C000000');
  }

  .mp-slider-prev:hover, .mp-slider-next:hover {
    background-color: rgba(0,0,0,.8);
    filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr='#99000000', EndColorStr='#99000000');
    border-top: 1px solid #fff;
  }

  .mp-slider-prev-and-next {
    position: absolute;
    width: 520px;
    top: 120px;
  }

  .slider-click {
    position:absolute;
    width:20px;
    height:20px;
    display: block; 
    top:9px;
    transform: rotate(45deg);
    -ms-transform: rotate(45deg);   /* IE 9 */
    -webkit-transform: rotate(45deg); /* Safari and Chrome */
    -o-transform: rotate(45deg);    /* Opera */
    -moz-transform: rotate(45deg);    /* Firefox */
  }

  .mp-slider-prev .slider-click{
    border-left: 3px solid #fff;
    border-bottom: 3px solid #fff;
    left:13px;
  }

  .mp-slider-next .slider-click{
    border-right: 3px solid #fff;
    border-top: 3px solid #fff;
    right:13px;
  }

  .mp-slider-prev {
    position: absolute;
    left: 5px;
  }

  .mp-slider-next {
    position: absolute;
    right: 5px;
  }

  .mp-slider-nav {
    position: absolute;
    left: 50%;
    bottom: 10px;
  }

  .mp-slider-nav-item {
    display: inline-block;
    width: 10px;
    height: 10px;
    margin: 1px;
    background-color: #000 \9;
    background-color: rgba(0,0,0,0);
    filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr='#00000000', EndColorStr='#00000000');
    border: 1px solid #fff;
    border-radius: 10px;
  }

  .mp-slider-nav-li-hover {
    width: 12px;
    height: 12px;
    margin: 0;
    background-color: #fff;
  }




  </style>
  <script type="text/javascript">
    $(function() {
      $(".mp-slider-nav").css("margin-left", -($(".mp-slider-nav").width() / 2));
      $(".mp-slider-prev-and-next").hide();

      // hover
      $(".mp-slider").hover(function() {
        /* Stuff to do when the mouse enters the element */
        $(".mp-slider-prev-and-next").show();
      }, function() {
        /* Stuff to do when the mouse leaves the element */
        $(".mp-slider-prev-and-next").hide();
      });

      var $sliderImgDiv = $(".mp-slider-imgs");
      var $sliderImgs = $(".mp-slider img");
      var imgsLength = $sliderImgs.length;
      var width = -520;
      var index = 1;
      var imgsX = -520;

      
      $sliderImgDiv.find("a").last().clone().insertBefore($sliderImgDiv.find("a").first());
      $sliderImgDiv.append($sliderImgDiv.find("a").eq(1).clone());
      hoverNav(0);
      // prev and next click event
      $(".mp-slider-prev").on("click", function(event) {
        var self = $(this);
        var $sliderImgDiv = $(".mp-slider-imgs");
        $sliderImgDiv.stop(true, true);
        if (index == 0){
          $sliderImgDiv.animate({"left": String(imgsLength * width) + "px"}, 0);
          index = imgsLength;
          imgsX = imgsLength * width;
          $sliderImgDiv.stop(true, true);
          $(this).trigger('click');
        }
        else{
          index--;
          imgsX = imgsX - width;
          $sliderImgDiv.animate({"left":String(imgsX) + "px"}, 500);
          hoverNav(index - 1);
        }
      });
      $(".mp-slider-next").on("click", function(event) {
        var self = $(this);
        var $sliderImgDiv = $(".mp-slider-imgs");
        $sliderImgDiv.stop(true, true);
        if (index == imgsLength + 1){
          $sliderImgDiv.animate({"left": String(width) + "px"}, 0);
          index = 1;
          imgsX = width;
          $sliderImgDiv.stop(true, true);
          $(this).trigger('click');
        }
        else{
          index++;
          imgsX = imgsX + width;
          $sliderImgDiv.animate({"left":String(imgsX) + "px"}, 500);
          hoverNav(index - 1);
        } 
        // $sliderImgDiv.css("-webkit-transform", "translate3d(" + String(imgsX) + "px, 0px, 0px)");
      });

      // slider nav 
      $(".mp-slider-nav li").hover(function() {
        /* Stuff to do when the mouse enters the element */
        var selfIndex = $(".mp-slider-nav li").index(this);
        hoverNav(selfIndex);
        var $sliderImgDiv = $(".mp-slider-imgs");
        if (index == 0){
          $sliderImgDiv.animate({"left": String(imgsLength * width) + "px"}, 0);
          index = imgsLength;
          imgsX = imgsLength * width;
          $sliderImgDiv.stop(true, true);
        }
        if (index == imgsLength + 1){
          $sliderImgDiv.animate({"left": String(width) + "px"}, 0);
          index = 1;
          imgsX = width;
          $sliderImgDiv.stop(true, true);
        }
        $sliderImgDiv.animate({"left": String(selfIndex * width) + "px"}, 500);        
      }, function() {
        /* Stuff to do when the mouse leaves the element */
        
      });

      function hoverNav (index) {
        if (index == imgsLength){
          index = 0;
        }
        $(".mp-slider-nav li").removeClass("mp-slider-nav-li-hover")
          .eq(index).addClass("mp-slider-nav-li-hover");
      }      

    });
  </script>
</head>
<div>
  <div class="mp-slider">
    <div class="mp-slider-imgs">
        <a class="mp-slider-a" href="http://www.baidu.com">
          <img class="mp-slider-img" alt="one day"  src="http://img2.ph.126.net/fhjCONk0xCxHOos0kS9-lw==/6608609141190105947.jpg"/>
        </a>
        <a class="mp-slider-a">
          <img class="mp-slider-img" alt="second day"  src="http://img2.ph.126.net/TD0dsVFeEK5-YHQ4NQk7HA==/104708691354445139.jpg"/>
        </a>
        <a class="mp-slider-a">
          <img class="mp-slider-img" alt="ai ni"  src="http://img1.ph.126.net/2UW4J4KFOq0iXOSkIgUu_g==/1377538536122836807.jpg"/>
        </a>
    </div>
    <div class="mp-slider-prev-and-next">
      <div class="mp-slider-prev" href="javascript:;">
        <i class="slider-click"></i>
      </div>
      <div class="mp-slider-next" href="javascript:;">
        <i class="slider-click"></i>
      </div>
    </div>
    <ul class="mp-slider-nav">
      <li class="mp-slider-nav-item"></li>
      <li class="mp-slider-nav-item"></li>
      <li class="mp-slider-nav-item"></li>
    </ul>
  </div>
</div>
</html>